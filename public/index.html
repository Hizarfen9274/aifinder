<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIFinder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-content">
            <a class="nav-brand" href="/">
                <img src="https://cdn-icons-png.flaticon.com/512/4712/4712109.png" alt="AI Logo">
                AIFinder
            </a>
            <div class="nav-slogan">
                <div class="slogan-main">Yapay zeka dünyasında kaybolmayın! Size en uygun yapay zeka araçlarını bulmanıza yardımcı olalım.</div>
            </div>
            <div class="nav-right"></div>
        </div>
    </nav>

    <!-- Ana İçerik -->
    <div class="container">
        <div class="problem-section">
            <h2>Probleminizi Anlatın</h2>
            <p>İhtiyacınızı ne kadar detaylı anlatırsanız, size o kadar isabetli öneriler sunabiliriz. Bütçe, kullanım amacı, özel gereksinimler gibi detayları da ekleyebilirsiniz.
            </p>
            <div class="input-area">
                <textarea id="problemInput" placeholder="Örnek: Yazılarımı düzeltecek ve daha profesyonel hale getirecek bir yapay zeka arıyorum."></textarea>
                <button onclick="getRecommendations()">
                    <i class="fas fa-magic"></i>
                    Öneri Al
                </button>
            </div>
        </div>
        <div id="recommendations"></div>
    </div>

    <!-- Nasıl Çalışır bölümü -->
    <div class="how-it-works" style="margin-top: -2rem;">
        <h2>Nasıl Çalışır?</h2>
        <div class="steps">
            <div class="step">
                <div class="step-header">
                    <div class="step-icon">
                        <img src="https://cdn-icons-png.flaticon.com/512/2921/2921222.png" alt="Kalem">
                    </div>
                    <h3>1. Probleminizi Anlatın</h3>
                </div>
                <p class="step-description">İhtiyacınızı veya çözmek istediğiniz problemi detaylı bir şekilde açıklayın. Örneğin:</p>
                <ul>
                    <li>"Sosyal medya içeriklerimi otomatik oluşturmak istiyorum"</li>
                    <li>"Müşteri maillerini otomatik kategorize etmem gerekiyor"</li>
                    <li>"Yazılım kodlarımı gözden geçirecek bir araç arıyorum"</li>
                </ul>
            </div>
            <div class="step">
                <div class="step-header">
                    <div class="step-icon">
                        <img src="https://cdn-icons-png.flaticon.com/512/2991/2991106.png" alt="AI">
                    </div>
                    <h3>2. AI Önerilerini Alın</h3>
                </div>
                <p class="step-description">Yapay zeka sistemi ihtiyacınıza özel olarak:</p>
                <ul>
                    <li>En uygun AI araçlarını seçer</li>
                    <li>Her aracı detaylı olarak değerlendirir</li>
                    <li>Kullanıcı deneyimlerine göre puanlar</li>
                    <li>Fiyat ve özellik karşılaştırması sunar</li>
                </ul>
            </div>
            <div class="step">
                <div class="step-header">
                    <div class="step-icon">
                        <img src="https://cdn-icons-png.flaticon.com/512/4315/4315445.png" alt="Seç">
                    </div>
                    <h3>3. En İyi Seçimi Yapın</h3>
                </div>
                <p class="step-description">Her AI aracı için sunulan:</p>
                <ul>
                    <li>Detaylı özellik listesi</li>
                    <li>Kullanım örnekleri</li>
                    <li>Fiyatlandırma bilgisi</li>
                    <li>Dikkat edilmesi gerekenler</li>
                </ul>
            </div>
        </div>
    </div>

    <style>
    /* Navbar stilleri */
    .navbar {
        padding: 1rem 2rem;
        background: #1a73e8;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .nav-content {
        display: grid;
        grid-template-columns: 200px 1fr 200px;
        align-items: center;
        max-width: calc(100% - 3rem);
        margin: 0 auto;
    }

    .nav-brand {
        display: flex;
        align-items: center;
        gap: 1rem;
        font-size: 1.5rem;
        font-weight: 600;
        color: white;
        text-decoration: none;
    }

    .nav-brand img {
        width: 45px;
        height: 45px;
    }

    .nav-slogan {
        color: white;
        text-align: center;
        padding: 0 1rem;
    }

    .slogan-main {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .slogan-sub {
        font-size: 0.9rem;
        opacity: 0.9;
        line-height: 1.4;
    }

    /* Nasıl Çalışır bölümü */
    .how-it-works {
        background: #f8faff;
        border-radius: 20px;
        padding: 1.5rem;
        margin: 0 0 1.5rem 0;
    }

    .how-it-works h2 {
        font-size: 1.3rem;
        color: #333;
        margin-bottom: 1.5rem;
        text-align: center;
    }

    .steps {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
    }

    .step {
        background: white;
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        text-align: center;
    }

    .step-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.2rem;
    }

    .step-icon {
        width: 30px;
        height: 30px;
        min-width: 30px;
        background: #e8f0fe;
        border-radius: 50%;
        padding: 0.5rem;
    }

    .step-icon img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        filter: invert(31%) sepia(98%) saturate(1946%) hue-rotate(210deg) brightness(96%) contrast(91%);
    }

    .step-title {
        font-family: 'Poppins', sans-serif;
        font-size: 1.3rem;
        color: #1a73e8;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .step-description {
        color: #333;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 1rem;
        text-align: left;
        font-weight: 500;
    }

    .step p {
        color: #555;
        font-size: 0.9rem;
        line-height: 1.5;
        margin-bottom: 0.8rem;
        text-align: left;
    }

    .step ul {
        list-style: none;
        padding: 0;
        margin: 0;
        text-align: left;
    }

    .step ul li {
        color: #444;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 0.8rem;
        padding-left: 1.2rem;
        position: relative;
        font-weight: 500;
    }

    .step ul li::before {
        content: "•";
        color: #1a73e8;
        position: absolute;
        left: 0;
        top: 0;
    }

    /* Responsive tasarım */
    @media (max-width: 768px) {
        .nav-content {
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .nav-brand {
            justify-content: center;
        }
        
        .nav-right {
            display: none;
        }
        
        .steps {
            grid-template-columns: 1fr;
        }
        
        .step {
            padding: 1rem;
        }

        .step-icon {
            width: 60px;
            height: 60px;
            padding: 0.8rem;
        }
    }

    @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500&display=swap');

    .slogan-detail {
        font-family: 'Source Code Pro', monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        color: rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.1);
        padding: 1rem;
        border-radius: 8px;
        font-weight: 500;
    }

    /* Mobil responsive tasarım */
    @media (max-width: 768px) {
        .container {
            width: 100% !important;
            padding: 5px !important;
            margin: 0 !important;
        }
        
        .recommendations-grid {
            width: 100% !important;
            padding: 0 !important;
        }
        
        .card {
            width: 95vw !important;  /* viewport genişliğinin %95'i */
            margin: 20px auto !important;
            padding: 25px 15px !important;
            border-radius: 20px !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
        }
        
        .ai-header {
            padding: 0 10px !important;
        }
        
        .ai-header h3 {
            font-size: 1.8rem !important;
            margin: 15px 0 !important;
        }
        
        .description {
            font-size: 1.2rem !important;
            line-height: 1.8 !important;
            padding: 15px 10px !important;
        }
        
        .feature-section,
        .caution-section,
        .pricing-section,
        .example-section {
            width: 90% !important;
            margin: 20px auto !important;
            padding: 25px 15px !important;
        }
        
        .feature-item,
        .caution-item,
        .pricing-item {
            font-size: 1.1rem !important;
            padding: 12px !important;
            margin: 10px 0 !important;
        }
    }
    </style>

    <script>
    function displayRating(rating) {
        const bulbs = Math.round(rating);
        let html = '';
        for (let i = 0; i < 10; i++) {
            if (i < bulbs) {
                html += '<i class="fas fa-lightbulb rating me-1"></i>';
            } else {
                html += '<i class="far fa-lightbulb rating me-1"></i>';
            }
        }
        return html;
    }

    async function getRecommendations() {
        const recommendationsDiv = document.getElementById('recommendations');
        
        // Loading spinner göster
        recommendationsDiv.innerHTML = `
            <div class="loading-container">
                <div class="spinner"></div>
                <h3>Yapay Zeka Önerileri Hazırlanıyor</h3>
                <p>En uygun AI araçları seçiliyor...</p>
            </div>
        `;

        try {
            const problemText = document.getElementById('problemInput').value;
            const response = await fetch('/api/recommendations', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ problem: problemText })
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            
            // Grid container oluştur
            recommendationsDiv.innerHTML = '<div class="recommendations-grid"></div>';
            const gridContainer = recommendationsDiv.querySelector('.recommendations-grid');
            
            // Her AI önerisi için kart oluştur
            data.recommendations.forEach(ai => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                cardDiv.innerHTML = `
                    <div class="card-body">
                        <div class="ai-header">
                            <img src="https://cdn-icons-png.flaticon.com/512/4712/4712109.png" class="ai-logo" alt="${ai.name}">
                            <div>
                                <h3>${ai.name}</h3>
                                <div class="rating">
                                    <i class="fas fa-lightbulb"></i>
                                    <span>${ai.rating}/10</span>
                                </div>
                                <div class="tags">
                                    ${ai.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                        <div class="ai-content">
                            <p class="description">${ai.description}</p>
                            
                            <div class="feature-section">
                                <h6><i class="fas fa-check-circle"></i> Özellikler</h6>
                                ${ai.features.map(feature => `
                                    <div class="feature-item">
                                        <i class="fas fa-check"></i>
                                        <span>${feature}</span>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="caution-section">
                                <h6><i class="fas fa-exclamation-triangle"></i> Dikkat Edilecekler</h6>
                                ${ai.cautions.map(caution => `
                                    <div class="caution-item">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <span>${caution}</span>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="pricing-section">
                                <h6><i class="fas fa-tags"></i> Fiyatlandırma</h6>
                                ${ai.pricing.map(price => `
                                    <div class="pricing-item">
                                        <i class="fas fa-dollar-sign"></i>
                                        <span>${price}</span>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="example-section">
                                <h6><i class="fas fa-lightbulb"></i> Örnek Kullanım</h6>
                                <div class="example-prompt">
                                    <h7><i class="fas fa-comment-dots"></i> Örnek Prompt:</h7>
                                    <div class="prompt-text">${ai.examplePrompt}</div>
                                </div>
                                <div class="example-response">
                                    <h7><i class="fas fa-robot"></i> AI Yanıtı:</h7>
                                    <div class="response-text">${ai.exampleResponse}</div>
                                </div>
                            </div>
                            
                            <div class="card-actions">
                                <a href="${ai.link}" target="_blank" class="visit-btn">
                                    <i class="fas fa-external-link-alt"></i>
                                    Siteye Git
                                </a>
                            </div>
                        </div>
                    </div>
                `;
                gridContainer.appendChild(cardDiv);
            });

        } catch (error) {
            console.error('Error:', error);
            recommendationsDiv.innerHTML = `
                <div class="alert alert-danger">
                    <h5>Bir hata oluştu</h5>
                    <p>${error.message}</p>
                </div>
            `;
        }
    }
    </script>
</body>
</html>